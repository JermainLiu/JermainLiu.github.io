<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>使用Hexo部署一个属于自己的博客</title>
    <url>/2020/03/05/%E4%BD%BF%E7%94%A8Hexo%E9%83%A8%E7%BD%B2%E4%B8%80%E4%B8%AA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="0-说明"><a href="#0-说明" class="headerlink" title="0. 说明"></a>0. 说明</h2><ul>
<li>本次配置使用的环境为：deepin 15.11桌面版</li>
<li>其他操作系统类似</li>
</ul>
<a id="more"></a>

<hr>
<h2 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1. 准备工作"></a>1. 准备工作</h2><h3 id="Node-js环境包"><a href="#Node-js环境包" class="headerlink" title="Node.js环境包"></a>Node.js环境包</h3><ul>
<li>因为Hexo是基于Node.js的第三方模块，所以缺少Node.js不可。访问<a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js官网</a>下载合适自己系统的Node.js安装包。此时最新版本为v13.9.0，我使用的平台为Linux Binaries (x64)</li>
<li>创建安装路径，并进行解压(我们以/usr/local/lib/nodejs文件夹为例)<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p &#x2F;usr&#x2F;local&#x2F;lib&#x2F;nodejs 		# 创建解压安装目录</span><br><span class="line">sudo tar -xJvf node-v13.9.0-linux-x64.tar.xz -C &#x2F;usr&#x2F;local&#x2F;lib&#x2F;nodejs 		# 将安装包解压安装</span><br></pre></td></tr></table></figure></li>
<li>添加换将变量，在～/.bashrc文件后追加<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;lib&#x2F;nodejs&#x2F;node-v13.9.0-linux-x64&#x2F;bin</span><br><span class="line"># 或者</span><br><span class="line">export PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;lib&#x2F;nodejs&#x2F;node-v13.9.0-linux-x64&#x2F;bin:$PATH</span><br><span class="line"># 或者直接使用命令添加</span><br><span class="line">echo &#39;export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;lib&#x2F;nodejs&#x2F;node-v13.9.0-linux-x64&#x2F;bin&quot;&#39; &gt;&gt; ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure></li>
<li>测试安装<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm version</span><br><span class="line">npx -v</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Git工具包"><a href="#Git工具包" class="headerlink" title="Git工具包"></a>Git工具包</h3><ul>
<li>在bash中使用apt-get方法进行安装即可<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install git-core</span><br></pre></td></tr></table></figure></li>
<li>测试安装<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure>

</li>
</ul>
<hr>
<h2 id="2-开始工作"><a href="#2-开始工作" class="headerlink" title="2. 开始工作"></a>2. 开始工作</h2><h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><ul>
<li>Hexo是基于Node.js的第三方模块，所有我们需要对其进行单独安装，使用npm安装Hexo<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line"># 对于熟悉npm的进阶用户，可以仅局部安装Hexo包</span><br><span class="line"># npm install hexo</span><br></pre></td></tr></table></figure></li>
<li>自动安装到Nodejs目录中,也无需添加环境变量，只有上一步安装Node.js中添加了即可</li>
<li>测试<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h3><ul>
<li>安装Hexo完成后，清执行系列命令，Hexo将会在指定文件夹中新建所需要的文件<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 我以加家目录下创建Hexo文件夹为例进行</span><br><span class="line">cd ~		# 进入家目录</span><br><span class="line">sudo mkdir Hexo			# 创建Hexo目录</span><br><span class="line">hexo init .&#x2F;Hexo 		# 初始化Hexo目录</span><br><span class="line">cd .&#x2F;Hexo</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure></li>
<li>新建完成后，指定文件夹的目录如下：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure>
<h4 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h4></li>
<li>网站的<a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">配置 | Hexo</a>信息，可以在此配置大部分的参数<h4 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h4></li>
<li>应用程序的信息。<a href="https://ejs.co/" target="_blank" rel="noopener">EJS</a>，<a href="https://stylus-lang.com/" target="_blank" rel="noopener">Stylus</a>和<a href="https://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a> renderer已默认安装，可以自由移除<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package.json</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;hexo-site&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;hexo&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;hexo&quot;: &quot;^3.8.0&quot;,</span><br><span class="line">    &quot;hexo-generator-archive&quot;: &quot;^0.1.5&quot;,</span><br><span class="line">    &quot;hexo-generator-category&quot;: &quot;^0.1.3&quot;,</span><br><span class="line">    &quot;hexo-generator-index&quot;: &quot;^0.2.1&quot;,</span><br><span class="line">    &quot;hexo-generator-tag&quot;: &quot;^0.2.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-ejs&quot;: &quot;^0.3.1&quot;,</span><br><span class="line">    &quot;hexo-renderer-stylus&quot;: &quot;^0.3.3&quot;,</span><br><span class="line">    &quot;hexo-renderer-marked&quot;: &quot;^0.3.2&quot;,</span><br><span class="line">    &quot;hexo-server&quot;: &quot;^0.3.3&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="scaffolds"><a href="#scaffolds" class="headerlink" title="scaffolds"></a>scaffolds</h4></li>
<li><a href="https://hexo.io/zh-cn/docs/writing" target="_blank" rel="noopener">写作 | Hexo</a>模板文件夹。当新建文章时，Hexo会根据scaffold来建立文件。</li>
<li>Hexo的模板是指在新建的文章文件中默认填充的内容。例如，如果您需改scaffold/post.md中的Front-matter内容，那么每次新建一篇文章时都会包含这个修改。</li>
</ul>
<h4 id="source"><a href="#source" class="headerlink" title="source"></a>source</h4><ul>
<li>资源文件夹是存放用户资源的地方。除_posts文件夹之外，开头命名为_（下划线）的文件/文件夹和隐藏的文件将会被忽略。Markdown和HTML文件会被解析并防盗public文件夹，而其他文件会被拷贝过去。</li>
</ul>
<h4 id="themes"><a href="#themes" class="headerlink" title="themes"></a>themes</h4><ul>
<li><a href="https://hexo.io/zh-cn/docs/themes" target="_blank" rel="noopener">主题 | Hexo</a>文件夹。Hexo会根据主题来生成静态网页。</li>
</ul>
<hr>
<h2 id="3-基本操作"><a href="#3-基本操作" class="headerlink" title="3. 基本操作"></a>3. 基本操作</h2><h3 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h3><h4 id="hexo-server"><a href="#hexo-server" class="headerlink" title="hexo-server"></a>hexo-server</h4><ul>
<li>Hexo 3.0 把服务器独立成了个别模块，必须先安装hexo-server才能使用<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-server --save</span><br></pre></td></tr></table></figure></li>
<li>安装完成后，输入以下命令以启动服务器，您的网站会在<a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> 下启动。在服务器启动期间，Hexo会监视文件变动并自动更新，您无需重启服务器<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></li>
<li>如果想要更改端口，或是在执行时遇到了EADDRINUSE错误，可以在执行时使用-p选项指定其他端口，如下：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo server -p 5000</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="静态模式"><a href="#静态模式" class="headerlink" title="静态模式"></a>静态模式</h4><ul>
<li>在静态模式下，服务器只处理public文件夹内的文件，而不会处理文件变动，在执行时，你应该先自动执行hexo generate，此模式通常用于生产环境（production mode）下。<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo server -s</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="自定义IP"><a href="#自定义IP" class="headerlink" title="自定义IP"></a>自定义IP</h4><ul>
<li>服务器默认运行在0.0.0.0，你可以覆盖默认的IP地址，如下：<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo server -i 192.168.1.1</span><br></pre></td></tr></table></figure></li>
<li>使用这个参数后，你就只能通过该IP才能访问站点。例如，对于一台使用无线网络的笔记本电脑，除了指向本机的127.0.0.1外，通常还有一个192.168.<em>.</em>的局域网IP，如果像上面那样使用-i参数，就不能用127.0.0.1来访问站点了。对于有公网IP的主机，如果您指定一个局域网IP作为-i参数的值，那么就无法通过公网来访问站点。</li>
</ul>
<h3 id="写博客"><a href="#写博客" class="headerlink" title="写博客"></a>写博客</h3><ul>
<li>执行下列命令来创建一片新的文章或者新的页面<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># hexo new [layout] &lt;title&gt;</span><br><span class="line">hexo new post “my_first_blog”</span><br></pre></td></tr></table></figure></li>
<li>可以在命令中指定文章的布局(layout)，默认为post，可以通过修改_config.yml中的default_layout参数来指定默认布局。</li>
<li>在./source/_posts/中产生新的.md文件</li>
<li>通过终端或者编辑器进行写入内容，网站会自动更新</li>
<li>其他有关命令<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean			# 清除缓存文件(db.json)和已生成的静态文件(public)</span><br><span class="line">hexo generate			# hexo g  生成静态文件</span><br><span class="line">hexo list &lt;type&gt;			# 列出网站资料</span><br></pre></td></tr></table></figure>

</li>
</ul>
<hr>
<h2 id="4-部署（github）"><a href="#4-部署（github）" class="headerlink" title="4. 部署（github）"></a>4. 部署（github）</h2><h3 id="github仓库"><a href="#github仓库" class="headerlink" title="github仓库"></a>github仓库</h3><ul>
<li>登录github仓库</li>
<li>在右上角点击“+”号，点击“New repository”</li>
<li>用户部署个人博客的github仓库的命令必须为 github用户名.github.io；简单写一下仓库的描述，可以不写；下面选择public，公开的，私人的需要付费，最后点击Create repository创建完成<img src="/2020/03/05/%E4%BD%BF%E7%94%A8Hexo%E9%83%A8%E7%BD%B2%E4%B8%80%E4%B8%AA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/pic1.png" class=""></li>
<li>显示如下：<ul>
<li><img src="/2020/03/05/%E4%BD%BF%E7%94%A8Hexo%E9%83%A8%E7%BD%B2%E4%B8%80%E4%B8%AA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/pic2.png" class=""></li>
<li>使用上面的http</li>
</ul>
</li>
</ul>
<h3 id="进行git部署"><a href="#进行git部署" class="headerlink" title="进行git部署"></a>进行git部署</h3><ul>
<li>进入创建的Hexo博客目录，执行下列命令安装git插件<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure></li>
<li>修改配置文件_config.yml，使用nano、或者使用vim编辑<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nano _config.yml</span><br></pre></td></tr></table></figure></li>
<li>下滑至最后，在# Deployment部分进行修改添加<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https:&#x2F;&#x2F;github.com&#x2F;JermainLiu&#x2F;JermainLiu.github.io.git 		# 刚刚在上面的创建的仓库后出现的http地址</span><br><span class="line">  branch: master 		# 不写默认为master</span><br></pre></td></tr></table></figure></li>
<li>Ctrl+o，Enter，保存，Ctrl+x退出编辑</li>
<li>配置git信息，用自己的信息替换下面引号中的内容。如果之前配置过git config的话，跳过<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config --global user.email &quot;you@example.com&quot;</span><br><span class="line">git config --global user.name &quot;Your Name&quot;</span><br></pre></td></tr></table></figure></li>
<li>执行部署命令<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></li>
<li>在这个过程中会提示你输入github账户昵称和密码。</li>
<li>完成之后，刷新刚刚新建的github仓库，文件已经部署进github中，在地址栏访问你的仓库名称“username.github.io”即可访问博客。</li>
</ul>
<hr>
<!--toc-->
<p><span id="busuanzi_container_page_pv">  本文总阅读量 <span id="busuanzi_value_page_pv"></span> 次</span></p>
]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>First Blog</title>
    <url>/2020/03/04/First-Blog/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>自己的博客基本搭建完成，接下来进行部署即可。</p>
<a id="more"></a>

<p>第一次使用这种博客来写东西，心情还是很激动的呢！！</p>
]]></content>
  </entry>
</search>
